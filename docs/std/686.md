###### #std686

# Работа с параметром "Отказ" в обработчиках событий

###### 1.

Параметру `#!bsl Отказ` не присваивайте `#!bsl Ложь`.

Если ему присвоить `#!bsl Ложь`, то можно случайно сбросить ранее установленный `#!bsl Истина`.

Установка `#!bsl Ложь` может быть неявной: через булеву функцию. Потому и результат функции тоже не присваивайте.

!!! failure "Неправильно"

    ```bsl
    Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
        ...
        Отказ = ЕстьОшибки();
        ...
    КонецПроцедуры 
    ```
    и
    ```bsl
    Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
        ...
        Отказ = Ложь;
        ...
    КонецПроцедуры
    ```


!!! success "Правильно"

    ```bsl
    Процедура  ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)
        ...
        Если ЕстьОшибки() Тогда
            Отказ = Истина;
        КонецЕсли;
        ... 
    КонецПроцедуры
    ```
    или
    ```bsl
    Отказ = Отказ Или ЕстьОшибки();
    ```

###### 2.

Вообще это правило подходит для любых возвращаемых булевых параметров, например `#!bsl СтандартнаяОбработка`, `#!bsl Выполнение`. 

###### 3.

Если устанавливаете параметр `#!bsl Отказ` в `#!bsl Истина`, то объясняйте пользователю что случилось.

Платформа покажет сообщение об ошибке с текстом, например `Не удалось записать "Заказ покупателя"!`, из которого пользователь не поймет что именно произошло.

Уведомлять пользователя надо по стандарту [#std400: Информирование пользователя](400.md) с помощью сообщения, или отказаться от установки параметра `#!bsl Отказ` и вызвать исключение.

###### См. также

- [#std400: Информирование пользователя](400.md)
- [#std499: Перехват исключений в коде](499.md)
- [#std585: Сообщения пользователю](585.md)

###### Источник

https://its.1c.ru/db/v8std#content:686
