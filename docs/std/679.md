###### #std679

# Ограничение на установку признака «Вызов сервера» у общих модулей

###### 1.

Не устанавливайте признак `Вызов сервера` у всех серверных общих модулей «по умолчанию».

В модулях с `Вызов сервера` размещайте только API, который действительно вызывается с клиента и:

- не раскрывает пользователю лишние данные;
- не выполняет действия, которые ему не разрешены.

Например, серверная функция расчета должна передавать на клиент
итоговый результат, а не исходные или промежуточные данные,
которые могут быть недоступны текущему пользователю.

Серверные процедуры и функции, не предназначенные для вызова с клиента,
размещайте в серверных модулях без признака `Вызов сервера`.

Особого внимания требует код:

- который устанавливает привилегированный режим;
- который размещен в модулях с признаком `Привилегированный`.

###### 2.1.

В управляемом приложении работа с экземплярами объектов (`СправочникОбъект`, `ДокументОбъект` и т.п.)
должна выполняться на сервере.

Поэтому в клиентском коде не создавайте и не получайте такие объекты:

- в клиентских общих модулях
  (в том числе при использовании директивы `ТолстыйКлиентУправляемоеПриложение`);
- в обычных формах, запущенных в управляемом режиме.

В частности, это важно для толстого клиента в режиме управляемого приложения.

Так вы исключаете:

- выполнение кода модулей объектов и подписок на события на клиенте;
- избыточные серверные вызовы из этого кода.

###### 2.2.

Если конфигурация не рассчитана на работу в толстом клиенте (управляемое приложение, клиент-сервер),
снимите в свойствах конфигурации флажок
`Толстый клиент (управляемое приложение, режим клиент-сервер)`.

Это уменьшает ложные ошибки при проверке конфигурации.

###### См. также

- [#std678: Безопасность прикладного программного интерфейса сервера](678.md)
- [#std469: Правила создания общих модулей](469.md)
- [#std680: Поддержка толстого клиента, управляемое приложение, клиент-сервер](680.md)

###### Источник

https://its.1c.ru/db/v8std#content:679
